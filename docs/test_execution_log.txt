Running main() from /Users/panjinxue/编程/zygl3/third_party/googletest/googletest/src/gtest_main.cc
[==========] Running 30 tests from 6 test suites.
[----------] Global test environment set-up.
[----------] 6 tests from XKSJTest
[ RUN      ] XKSJTest.TC_Chassis_SaveSuccess
[       OK ] XKSJTest.TC_Chassis_SaveSuccess (0 ms)
[ RUN      ] XKSJTest.TC_Chassis_SaveFailure
[       OK ] XKSJTest.TC_Chassis_SaveFailure (0 ms)
[ RUN      ] XKSJTest.TC_Chassis_GetAllDataIntegrity
[       OK ] XKSJTest.TC_Chassis_GetAllDataIntegrity (0 ms)
[ RUN      ] XKSJTest.TC_Stack_SaveSuccess
[       OK ] XKSJTest.TC_Stack_SaveSuccess (0 ms)
[ RUN      ] XKSJTest.TC_Stack_SaveFailure
[       OK ] XKSJTest.TC_Stack_SaveFailure (0 ms)
[ RUN      ] XKSJTest.TC_Stack_GetAllDataIntegrity
[       OK ] XKSJTest.TC_Stack_GetAllDataIntegrity (0 ms)
[----------] 6 tests from XKSJTest (0 ms total)

[----------] 8 tests from XKJHTest
[ RUN      ] XKJHTest.TC_SendResponse_Success
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
发送资源监控响应: ID=0 (原始请求ID=12345)
资源监控广播器已停止
资源监控广播器已停止
[       OK ] XKJHTest.TC_SendResponse_Success (0 ms)
[ RUN      ] XKJHTest.TC_SendResponse_Failure
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
发送资源监控响应: ID=0 (原始请求ID=12345)
资源监控广播器已停止
资源监控广播器已停止
资源监控广播器已停止
资源监控广播器已停止
[       OK ] XKJHTest.TC_SendResponse_Failure (0 ms)
[ RUN      ] XKJHTest.TC_SendTaskQueryResponse_Success
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
任务查询成功: taskID=task-1 CPU=5000% MEM=6000%
发送任务查询响应: 机箱1 板卡1 任务0 (响应ID=0)
资源监控广播器已停止
资源监控广播器已停止
[       OK ] XKJHTest.TC_SendTaskQueryResponse_Success (0 ms)
[ RUN      ] XKJHTest.TC_SendTaskQueryResponse_Failure
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
未找到机箱: 999
发送任务查询响应: 机箱999 板卡1 任务0 (响应ID=0)
资源监控广播器已停止
资源监控广播器已停止
[       OK ] XKJHTest.TC_SendTaskQueryResponse_Failure (0 ms)
[ RUN      ] XKJHTest.TC_HandleTaskStartRequest_Success
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
开始启动新任务: 模式1
部署业务链路失败，状态码: -1
任务启动失败: 任务启动失败
发送任务启动响应: 工作模式=1 (响应ID=0)
资源监控广播器已停止
资源监控广播器已停止
[       OK ] XKJHTest.TC_HandleTaskStartRequest_Success (2 ms)
[ RUN      ] XKJHTest.TC_HandleTaskStartRequest_Failure
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
开始启动新任务: 模式999
部署业务链路失败，状态码: -1
任务启动失败: 任务启动失败
发送任务启动响应: 工作模式=999 (响应ID=0)
资源监控广播器已停止
资源监控广播器已停止
[       OK ] XKJHTest.TC_HandleTaskStartRequest_Failure (2 ms)
[ RUN      ] XKJHTest.TC_HandleTaskStopRequest_Success
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
开始启动新任务: 模式1
部署业务链路失败，状态码: -1
任务启动失败: 任务启动失败
发送任务启动响应: 工作模式=1 (响应ID=0)
无正在运行的任务
发送任务停止响应: (响应ID=1)
资源监控广播器已停止
资源监控广播器已停止
[       OK ] XKJHTest.TC_HandleTaskStopRequest_Success (106 ms)
[ RUN      ] XKJHTest.TC_HandleTaskStopRequest_Failure
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
无正在运行的任务
发送任务停止响应: (响应ID=0)
资源监控广播器已停止
资源监控广播器已停止
[       OK ] XKJHTest.TC_HandleTaskStopRequest_Failure (0 ms)
[----------] 8 tests from XKJHTest (111 ms total)

[----------] 4 tests from RWKZTest
[ RUN      ] RWKZTest.TC_DeployStacks_Success
部署业务链路失败，状态码: -1
[       OK ] RWKZTest.TC_DeployStacks_Success (0 ms)
[ RUN      ] RWKZTest.TC_DeployStacks_Failure
部署业务链路失败，状态码: -1
[       OK ] RWKZTest.TC_DeployStacks_Failure (0 ms)
[ RUN      ] RWKZTest.TC_UndeployStacks_Success
停用业务链路失败，状态码: -1
[       OK ] RWKZTest.TC_UndeployStacks_Success (0 ms)
[ RUN      ] RWKZTest.TC_UndeployStacks_Failure
停用业务链路失败，状态码: -1
[       OK ] RWKZTest.TC_UndeployStacks_Failure (0 ms)
[----------] 4 tests from RWKZTest (1 ms total)

[----------] 2 tests from RWJKTest
[ RUN      ] RWJKTest.TC_CollectStackInfo_Success
数据采集服务已启动

开始采集数据...
  发送IP心跳检测...
IP心跳检测失败，状态码: -1
  采集板卡信息...
获取板卡信息失败，状态码: -1
  板卡信息为空，可能是API未返回数据
  采集业务链路信息...
获取业务链路信息失败，状态码: -1
  业务链路信息为空，可能是API未返回数据
数据采集完成，等待 1 秒...
数据采集服务已停止
[       OK ] RWJKTest.TC_CollectStackInfo_Success (1001 ms)
[ RUN      ] RWJKTest.TC_CollectStackInfo_Failure
数据采集服务已启动

开始采集数据...
  发送IP心跳检测...
IP心跳检测失败，状态码: -1
  采集板卡信息...
获取板卡信息失败，状态码: -1
  板卡信息为空，可能是API未返回数据
  采集业务链路信息...
获取业务链路信息失败，状态码: -1
  业务链路信息为空，可能是API未返回数据
数据采集完成，等待 1 秒...
数据采集服务已停止
[       OK ] RWJKTest.TC_CollectStackInfo_Failure (1004 ms)
[----------] 2 tests from RWJKTest (2005 ms total)

[----------] 6 tests from ZYJKTest
[ RUN      ] ZYJKTest.TC_CollectBoardInfo_Success
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
数据采集服务已启动

开始采集数据...
  发送IP心跳检测...
IP心跳检测失败，状态码: -1
  采集板卡信息...
获取板卡信息失败，状态码: -1
  板卡信息为空，可能是API未返回数据
  采集业务链路信息...
获取业务链路信息失败，状态码: -1
  业务链路信息为空，可能是API未返回数据
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  检测到 14 个板卡离线
数据采集完成，等待 1 秒...
数据采集服务已停止
资源监控广播器已停止
资源监控广播器已停止
[       OK ] ZYJKTest.TC_CollectBoardInfo_Success (1006 ms)
[ RUN      ] ZYJKTest.TC_CollectBoardInfo_Failure1
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
数据采集服务已启动

开始采集数据...
  发送IP心跳检测...
IP心跳检测失败，状态码: -1
  采集板卡信息...
获取板卡信息失败，状态码: -1
  板卡信息为空，可能是API未返回数据
  采集业务链路信息...
获取业务链路信息失败，状态码: -1
  业务链路信息为空，可能是API未返回数据
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  检测到 14 个板卡离线
数据采集完成，等待 1 秒...
数据采集服务已停止
资源监控广播器已停止
资源监控广播器已停止
[       OK ] ZYJKTest.TC_CollectBoardInfo_Failure1 (1006 ms)
[ RUN      ] ZYJKTest.TC_CollectBoardInfo_Failure2
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
数据采集服务已启动

开始采集数据...
  发送IP心跳检测...
IP心跳检测失败，状态码: -1
  采集板卡信息...
获取板卡信息失败，状态码: -1
  板卡信息为空，可能是API未返回数据
  采集业务链路信息...
获取业务链路信息失败，状态码: -1
  业务链路信息为空，可能是API未返回数据
数据采集完成，等待 1 秒...
数据采集服务已停止
资源监控广播器已停止
资源监控广播器已停止
[       OK ] ZYJKTest.TC_CollectBoardInfo_Failure2 (1004 ms)
[ RUN      ] ZYJKTest.TC_CollectBoardInfo_Failure3
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
数据采集服务已启动

开始采集数据...
  发送IP心跳检测...
IP心跳检测失败，状态码: -1
  采集板卡信息...
获取板卡信息失败，状态码: -1
  板卡信息为空，可能是API未返回数据
  采集业务链路信息...
获取业务链路信息失败，状态码: -1
  业务链路信息为空，可能是API未返回数据
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  板卡离线: 机箱1 槽位0
  检测到 5 个板卡离线
数据采集完成，等待 1 秒...
数据采集服务已停止
资源监控广播器已停止
资源监控广播器已停止
[       OK ] ZYJKTest.TC_CollectBoardInfo_Failure3 (1008 ms)
[ RUN      ] ZYJKTest.TC_HandleBoardAlert_Success
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
告警接收服务器已启动，监听端口: 8889

收到板卡异常上报...
板卡异常信息:
  机箱: 1 (TestChassis_1)
  板卡: 1 (Board_1)
  IP地址: 192.168.0.101
  板卡状态: 异常
  告警信息数量: 2
    告警1: 板卡温度过高
    告警2: 板卡电压异常
发送故障上报成功: 板卡异常 - 机箱:1 槽位:1 IP:192.168.0.101 ...
告警接收服务器已停止
资源监控广播器已停止
资源监控广播器已停止
[       OK ] ZYJKTest.TC_HandleBoardAlert_Success (211 ms)
[ RUN      ] ZYJKTest.TC_HandleBoardAlert_Failure
资源监控广播器已启动 (组播地址: 234.186.1.99:4106)
告警接收服务器已启动，监听端口: 8890

收到板卡异常上报...
解析板卡异常上报JSON失败: [json.exception.parse_error.101] parse error at line 1, column 3: syntax error while parsing object key - invalid literal; last read: '{ i'; expected string literal
告警接收服务器已停止
资源监控广播器已停止
资源监控广播器已停止
[       OK ] ZYJKTest.TC_HandleBoardAlert_Failure (210 ms)
[----------] 6 tests from ZYJKTest (4447 ms total)

[----------] 4 tests from ZYKZTest
[ RUN      ] ZYKZTest.TC_resetBoard_Success
Executing chassis operation: RESET to 127.0.0.1:33000; waiting response on same connection
Sending binary data: 45544853574200003132372e302e302e310000000000000052455345540000000101010000000000000000000000000039300000
[       OK ] ZYKZTest.TC_resetBoard_Success (0 ms)
[ RUN      ] ZYKZTest.TC_resetBoard_Failure
Executing chassis operation: RESET to invalid.ip.address:33000; waiting response on same connection
Sending binary data: 4554485357420000696e76616c69642e69702e616464720052455345540000000100000000000000000000000000000032090100
[       OK ] ZYKZTest.TC_resetBoard_Failure (0 ms)
[ RUN      ] ZYKZTest.TC_resetBoard_ExpectedFailure1
Executing chassis operation: RESET to 127.0.0.1:33000; waiting response on same connection
Sending binary data: 45544853574200003132372e302e302e310000000000000052455345540000000100000000000000000000000000000039300000
/Users/panjinxue/编程/zygl3/tests/ZYKZ_test.cpp:131: Failure
Expected equality of these values:
  ResourceController::OperationResult::SUCCESS
    Which is: 4-byte object <00-00 00-00>
  response.result
    Which is: 4-byte object <02-00 00-00>
此断言故意失败：由于没有真实的服务器，操作可能返回NETWORK_ERROR或TIMEOUT_ERROR

[  FAILED  ] ZYKZTest.TC_resetBoard_ExpectedFailure1 (0 ms)
[ RUN      ] ZYKZTest.TC_resetBoard_ExpectedFailure2
Executing chassis operation: RESET to 127.0.0.1:33000; waiting response on same connection
Sending binary data: 45544853574200003132372e302e302e310000000000000052455345540000000101010000000000000000000000000039300000
/Users/panjinxue/编程/zygl3/tests/ZYKZ_test.cpp:151: Failure
Expected equality of these values:
  5
  response.slot_results.size()
    Which is: 0
此断言故意失败：期望5个槽位结果，但实际可能为0（连接失败）或3（请求的槽位数量）

[  FAILED  ] ZYKZTest.TC_resetBoard_ExpectedFailure2 (0 ms)
[----------] 4 tests from ZYKZTest (1 ms total)

[----------] Global test environment tear-down
[==========] 30 tests from 6 test suites ran. (6568 ms total)
[  PASSED  ] 28 tests.
[  FAILED  ] 2 tests, listed below:
[  FAILED  ] ZYKZTest.TC_resetBoard_ExpectedFailure1
[  FAILED  ] ZYKZTest.TC_resetBoard_ExpectedFailure2

 2 FAILED TESTS
